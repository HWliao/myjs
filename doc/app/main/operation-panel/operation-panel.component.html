<!-- 这个地方是如此的尴尬,为了动态生成menu时,button 不闪烁 -->
<ng-container *ngIf="menuMap[rootMenu]">
  <button
    mat-mini-fab
    color="accent"
    [matMenuTriggerFor]="menuMap[rootMenu]"
    matTooltip="操作菜单"
    [matTooltipPosition]="'right'">
    <mat-icon>menu</mat-icon>
  </button>
</ng-container>
<ng-container *ngIf="!menuMap[rootMenu]">
  <button
    mat-mini-fab
    color="accent"
    matTooltip="操作菜单"
    [matTooltipPosition]="'right'">
    <mat-icon>menu</mat-icon>
  </button>
</ng-container>

<ng-container *ngFor="let menu of datas">
  <mat-menu>
    <ng-container *ngFor="let item of menu.items">
      <ng-container *ngIf="item.triggerForKey&&menuMap[item.triggerForKey]">
        <button
          mat-menu-item
          [disabled]="item.disable"
          [matMenuTriggerFor]="menuMap[item.triggerForKey]"
          (click)="$event.stopPropagation();doClickMenuItem(item);"
        >
          {{item.context}}
        </button>
      </ng-container>
      <ng-container *ngIf="!(item.triggerForKey&&menuMap[item.triggerForKey])">
        <button
          mat-menu-item
          [disabled]="item.disable"
          (click)="$event.stopPropagation();doClickMenuItem(item);"
        >{{item.context}}
        </button>
      </ng-container>
    </ng-container>
  </mat-menu>
</ng-container>
